(function(t){function e(e){for(var n,c,o=e[0],i=e[1],u=e[2],b=0,d=[];b<o.length;b++)c=o[b],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,o=1;o<s.length;o++){var i=s[o];0!==a[i]&&(n=!1)}n&&(r.splice(e--,1),t=c(c.s=s[0]))}return t}var n={},a={app:0},r=[];function c(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=t,c.c=n,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(s,n,function(e){return t[e]}.bind(null,n));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/vue-composition-api/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=i;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},"0627":function(t,e,s){},"15c5":function(t,e,s){},"1d46":function(t,e,s){},"2af3":function(t,e,s){"use strict";s("9e92")},"409c":function(t,e,s){"use strict";s("ef29")},4678:function(t,e,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=r(t);return s(e)}function r(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id="4678"},"5b3c":function(t,e,s){"use strict";s("15c5")},"64e6":function(t,e,s){"use strict";s("0627")},"88b4":function(t,e,s){"use strict";s("1d46")},"9e92":function(t,e,s){},cd49:function(t,e,s){"use strict";s.r(e);var n=s("9ab4"),a=s("7a23");const r=Object(a["i"])("div",{class:"modal-background"},null,-1),c=Object(a["i"])("div",{class:"modal-content"},[Object(a["i"])("div",{id:"modal"}," Modal ")],-1),o={class:"section"},i={class:"container"};function u(t,e,s,n,u,l){const b=Object(a["F"])("nav-bar"),d=Object(a["F"])("router-view");return Object(a["x"])(),Object(a["h"])(a["a"],null,[Object(a["i"])("div",{class:"modal",style:Object(a["s"])(t.style)},[r,c,Object(a["i"])("button",{class:"modal-close is-large",onClick:e[0]||(e[0]=(...e)=>t.hide&&t.hide(...e))})],4),Object(a["i"])("section",o,[Object(a["i"])("div",i,[Object(a["k"])(b),Object(a["k"])(d)])])],64)}const l={class:"navbar"},b={class:"navbar-end"},d={key:0,class:"buttons"},j=Object(a["j"])(" New Post "),f={key:1,class:"buttons"};function p(t,e,s,n,r,c){const o=Object(a["F"])("router-link");return Object(a["x"])(),Object(a["h"])(a["a"],null,[Object(a["i"])("div",l,[Object(a["i"])("div",b,[t.auth?(Object(a["x"])(),Object(a["h"])("div",d,[Object(a["k"])(o,{class:"button",to:"/posts/new"},{default:Object(a["M"])(()=>[j]),_:1}),Object(a["i"])("button",{class:"button",onClick:e[0]||(e[0]=(...e)=>t.signOut&&t.signOut(...e))}," Sign Out ")])):(Object(a["x"])(),Object(a["h"])("div",f,[Object(a["i"])("button",{class:"button","data-test":"sign-up",onClick:e[1]||(e[1]=(...e)=>t.signUp&&t.signUp(...e))}," Sign Up "),Object(a["i"])("button",{class:"button",onClick:e[2]||(e[2]=(...e)=>t.signIn&&t.signIn(...e))}," Sign In ")]))])]),(Object(a["x"])(),Object(a["f"])(a["c"],{to:"#modal"},[(Object(a["x"])(),Object(a["f"])(Object(a["G"])(t.component)))]))],64)}var O=s("6c02");Object(a["A"])("data-v-040fcfa2");const v=["disabled"];function h(t,e,s,n,r,c){const o=Object(a["F"])("form-input");return Object(a["x"])(),Object(a["h"])("form",{onSubmit:e[2]||(e[2]=Object(a["O"])((...e)=>t.submit&&t.submit(...e),["prevent"]))},[Object(a["k"])(o,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=e=>t.username=e),name:"Username",type:"text",error:t.usernameStatus.message},null,8,["modelValue","error"]),Object(a["k"])(o,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=e=>t.password=e),name:"Password",type:"password",error:t.passwordStatus.message},null,8,["modelValue","error"]),Object(a["i"])("button",{class:"button is-primary",disabled:!t.usernameStatus.valid||!t.passwordStatus.valid}," Submit ",8,v)],32)}Object(a["y"])();const m={class:"field"},g=["name"],y={class:"control"},w=["id","type","value"],k={class:"is-danger help"};function S(t,e,s,n,r,c){return Object(a["x"])(),Object(a["h"])("div",m,[Object(a["i"])("label",{class:"label",name:t.name},Object(a["I"])(t.name),9,g),Object(a["i"])("div",y,[Object(a["i"])("input",{class:"input",id:t.name,type:t.type,value:t.modelValue,onInput:e[0]||(e[0]=(...e)=>t.handleInput&&t.handleInput(...e))},null,40,w)]),Object(a["i"])("p",k,Object(a["I"])(t.error),1)])}var I=Object(a["l"])({props:{name:{type:String,required:!0},type:{type:String,default:"text"},modelValue:{type:String,required:!0},error:{type:String}},setup:function(t,e){var s=function(t){e.emit("update:modelValue",t.target.value)};return{handleInput:s}}});I.render=S;var x=I;function P(){return{type:"required"}}function M(t){return{type:"length",options:t}}function T(t,e){for(var s=0,n=e;s<n.length;s++){var a=n[s];if("required"===a.type&&(!t||0===t.length))return{valid:!1,message:"This value is required."};if("length"===a.type&&(t.length<a.options.min||t.length>a.options.max))return{valid:!1,message:"The value must be between "+a.options.min+" and "+a.options.max}}return{valid:!0}}var U=s("bc3a"),z=s.n(U),_=Symbol("store"),V=function(){function t(t){this.state=Object(a["B"])(t)}return t.prototype.install=function(t){t.provide(_,this)},t.prototype.getState=function(){return Object(a["C"])(this.state)},t.prototype.getPosts=function(){return Object(n["b"])(this,void 0,void 0,(function(){var t,e,s,a,r;return Object(n["c"])(this,(function(n){switch(n.label){case 0:return[4,z.a.get("/posts")];case 1:for(t=n.sent(),e={ids:[],all:new Map,loaded:!0},s=0,a=t.data;s<a.length;s++)r=a[s],e.ids.push(r.id),e.all.set(r.id,r);return this.state.posts=e,[2]}}))}))},t.prototype.createUser=function(t){return Object(n["b"])(this,void 0,void 0,(function(){var e;return Object(n["c"])(this,(function(s){switch(s.label){case 0:return[4,z.a.post("/users",t)];case 1:return e=s.sent(),this.state.authors.all.set(e.data.id,e.data),this.state.authors.ids.push(e.data.id),this.state.authors.currentUserId=e.data.id,[2]}}))}))},t.prototype.createPost=function(t){return Object(n["b"])(this,void 0,void 0,(function(){var e;return Object(n["c"])(this,(function(s){switch(s.label){case 0:return[4,z.a.post("/posts",t)];case 1:return e=s.sent(),this.state.posts.all.set(e.data.id,e.data),this.state.posts.ids.push(e.data.id),[2]}}))}))},t.prototype.updatePost=function(t){return Object(n["b"])(this,void 0,void 0,(function(){var e;return Object(n["c"])(this,(function(s){switch(s.label){case 0:return[4,z.a.put("/posts",t)];case 1:return e=s.sent(),this.state.posts.all.set(e.data.id,e.data),[2]}}))}))},t.prototype.signIn=function(t){return Object(n["b"])(this,void 0,void 0,(function(){var e;return Object(n["c"])(this,(function(s){switch(s.label){case 0:return[4,z.a.post("/sign_in",t)];case 1:return e=s.sent(),this.state.authors.all.set("1",e.data),this.state.authors.ids.push("1"),this.state.authors.currentUserId="1",[2]}}))}))},t.prototype.signOut=function(){this.state.authors.currentUserId=void 0},t}(),E=new Map,F=new V({posts:{all:E,ids:[],loaded:!1},authors:{all:new Map,ids:[],loaded:!1,currentUserId:"1"}});function D(){var t=Object(a["o"])(_);if(!t)throw Error("Did you forgot to call provide?");return t}var A=Object(a["D"])(!1),q=Object(a["D"])();function C(){return{component:q,show:A,showModal:function(){A.value=!0},hideModal:function(){A.value=!1}}}var L=Object(a["l"])({components:{FormInput:x},setup:function(){var t=this,e=Object(a["D"])("username"),s=Object(a["d"])((function(){return T(e.value,[P(),M({min:5,max:10})])})),r=Object(a["D"])("password"),c=Object(a["d"])((function(){return T(r.value,[P(),M({min:10,max:40})])})),o=D(),i=C(),u=function(a){return Object(n["b"])(t,void 0,void 0,(function(){var t;return Object(n["c"])(this,(function(n){switch(n.label){case 0:return s.value.valid&&c.value.valid?(t={id:"-1",username:e.value,password:r.value},[4,o.createUser(t)]):[2];case 1:return n.sent(),i.hideModal(),[2]}}))}))};return{usernameStatus:s,username:e,submit:u,password:r,passwordStatus:c}}});s("409c");L.render=h,L.__scopeId="data-v-040fcfa2";var Y=L;Object(a["A"])("data-v-f35ab722");const N=Object(a["i"])("p",null,'Test account is username: "user123", password: "pass42".',-1),W=["disabled"];function H(t,e,s,n,r,c){const o=Object(a["F"])("form-input");return Object(a["x"])(),Object(a["h"])("form",{onSubmit:e[2]||(e[2]=Object(a["O"])((...e)=>t.submit&&t.submit(...e),["prevent"]))},[N,Object(a["k"])(o,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=e=>t.username=e),name:"Username",type:"text",error:t.usernameStatus.message},null,8,["modelValue","error"]),Object(a["k"])(o,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=e=>t.password=e),name:"Password",type:"password",error:t.passwordStatus.message},null,8,["modelValue","error"]),Object(a["i"])("button",{class:"button is-primary",disabled:!t.usernameStatus.valid||!t.passwordStatus.valid}," Submit ",8,W)],32)}Object(a["y"])();var B=Object(a["l"])({components:{FormInput:x},setup:function(){var t=this,e=Object(a["D"])(""),s=Object(a["d"])((function(){return T(e.value,[P()])})),r=Object(a["D"])(""),c=Object(a["d"])((function(){return T(r.value,[P()])})),o=D(),i=C(),u=function(a){return Object(n["b"])(t,void 0,void 0,(function(){var t;return Object(n["c"])(this,(function(n){switch(n.label){case 0:return s.value.valid&&c.value.valid?(t={id:"-1",username:e.value,password:r.value},[4,o.signIn(t)]):[2];case 1:return n.sent(),i.hideModal(),[2]}}))}))};return{usernameStatus:s,username:e,submit:u,password:r,passwordStatus:c}}});s("2af3");B.render=H,B.__scopeId="data-v-f35ab722";var J=B,G=Object(a["l"])({components:{SignUp:Y,SignIn:J},setup:function(){var t=C(),e=D(),s=Object(O["d"])(),n=Object(a["d"])((function(){return!!e.getState().authors.currentUserId})),r=function(){t.component.value=Object(a["p"])(J),t.showModal()},c=function(){t.component.value=Object(a["p"])(Y),t.showModal()},o=function(){e.signOut(),s.push("/")};return{component:t.component,signIn:r,signUp:c,signOut:o,auth:n}}});G.render=p;var K=G,R=Object(a["l"])({name:"App",components:{NavBar:K},setup:function(){var t=C(),e=function(){t.hideModal()},s=Object(a["d"])((function(){return{display:t.show.value?"block":"none"}}));return{style:s,hide:e}}});s("5b3c");R.render=u;var $=R,Q=s("c1df"),X=s.n(Q),Z={id:"1",title:"Today",created:X()().subtract(1,"second"),authorId:"1"},tt={id:"2",title:"This Week",created:X()().subtract(2,"days"),authorId:"1"},et={id:"3",title:"This Month",created:X()().subtract(12,"days"),authorId:"1"},st=(s("9f21"),s("0f40")),nt=s.n(st);const at={class:"section"},rt={class:"container"},ct=Object(a["i"])("div",{class:"notification is-info is-size-3"},[Object(a["i"])("p",null," An application with Vue.js 3, Composition API, TypeScript, Vue Router and Vue Test Utils! ")],-1);function ot(t,e,s,n,r,c){const o=Object(a["F"])("timeline"),i=Object(a["F"])("spinner");return Object(a["x"])(),Object(a["h"])("section",at,[Object(a["i"])("div",rt,[ct,(Object(a["x"])(),Object(a["f"])(a["b"],null,{default:Object(a["M"])(()=>[Object(a["k"])(o)]),fallback:Object(a["M"])(()=>[Object(a["k"])(i)]),_:1}))])])}Object(a["A"])("data-v-60dee52b");const it={class:"message is-primary is-marginless"},ut={class:"message-header"},lt={class:"is-primary panel"},bt={class:"panel-tabs"},dt=["data-test","onClick"];function jt(t,e,s,n,r,c){const o=Object(a["F"])("timeline-post");return Object(a["x"])(),Object(a["h"])(a["a"],null,[Object(a["i"])("div",it,[Object(a["i"])("div",ut,[Object(a["i"])("div",null,"Posts "+Object(a["I"])(t.currentPeriod.toLowerCase()),1)])]),Object(a["i"])("nav",lt,[Object(a["i"])("span",bt,[(Object(a["x"])(!0),Object(a["h"])(a["a"],null,Object(a["E"])(t.periods,e=>(Object(a["x"])(),Object(a["h"])("a",{key:e,class:Object(a["r"])({"is-active":e===t.currentPeriod}),"data-test":e,onClick:s=>t.setPeriod(e)},Object(a["I"])(e),11,dt))),128))]),(Object(a["x"])(!0),Object(a["h"])(a["a"],null,Object(a["E"])(t.posts,t=>(Object(a["x"])(),Object(a["f"])(o,{key:t.id,class:"panel-block",post:t},{default:Object(a["M"])(()=>[Object(a["i"])("a",null,Object(a["I"])(t.title),1),Object(a["i"])("div",null,Object(a["I"])(t.created.format("Do MMM YYYY")),1)]),_:2},1032,["post"]))),128))])],64)}Object(a["y"])();const ft={class:"is-flex is-flex-direction-column is-align-items-flex-start"};function pt(t,e,s,n,r,c){const o=Object(a["F"])("router-link");return Object(a["x"])(),Object(a["f"])(o,{to:t.to,key:t.post.id,class:"panel-block"},{default:Object(a["M"])(()=>[Object(a["i"])("div",ft,[Object(a["i"])("a",null,Object(a["I"])(t.post.title),1),Object(a["i"])("div",null,Object(a["I"])(t.post.created.format("Do MMM YYYY")),1)])]),_:1},8,["to"])}var Ot=Object(a["l"])({name:"TimelinePost",props:{post:{type:Object,required:!0}},setup:function(t){return{to:"/posts/"+t.post.id}}});Ot.render=pt;var vt=Ot,ht=Object(a["l"])({name:"Timeline",components:{TimelinePost:vt},setup:function(){return Object(n["b"])(this,void 0,void 0,(function(){var t,e,s,r,c,o;return Object(n["c"])(this,(function(n){switch(n.label){case 0:return t=["Today","This Week","This Month"],e=Object(a["D"])("Today"),s=D(),s.getState().posts.loaded?[3,2]:[4,s.getPosts()];case 1:n.sent(),n.label=2;case 2:return r=s.getState().posts.ids.reduce((function(t,e){var n=s.getState().posts.all.get(e);if(!n)throw Error("This post was not found");return t.concat(n)}),[]),c=Object(a["d"])((function(){return r.filter((function(t){return"Today"===e.value?t.created.isAfter(X()().subtract(1,"day")):"This Week"===e.value?t.created.isAfter(X()().subtract(1,"week")):"This Month"===e.value&&t.created.isAfter(X()().subtract(1,"month"))}))})),o=function(t){e.value=t},[2,{posts:c,periods:t,setPeriod:o,currentPeriod:e}]}}))}))}});s("64e6");ht.render=jt,ht.__scopeId="data-v-60dee52b";var mt=ht;const gt=Object(a["i"])("progress",{class:"progress is-primary is-small"},null,-1),yt=Object(a["j"])(" Loading in progress... ");function wt(t,e){return Object(a["x"])(),Object(a["h"])(a["a"],null,[gt,yt],64)}const kt={};kt.render=wt;var St=kt,It=Object(a["l"])({name:"App",components:{Timeline:mt,Spinner:St}});It.render=ot;var xt=It;function Pt(t,e,s,n,r,c){const o=Object(a["F"])("post-writer");return Object(a["x"])(),Object(a["f"])(o,{post:t.newPost,onSave:t.save},null,8,["post","onSave"])}Object(a["A"])("data-v-2add17bc");const Mt={class:"columns"},Tt={class:"column"},Ut={class:"field"},zt=Object(a["i"])("div",{class:"label"},"New Post",-1),_t={class:"columns"},Vt={class:"column"},Et={class:"column"},Ft=["innerHTML"],Dt={class:"columns"},At={class:"column"};function qt(t,e,s,n,r,c){return Object(a["x"])(),Object(a["h"])(a["a"],null,[Object(a["i"])("div",Mt,[Object(a["i"])("div",Tt,[Object(a["i"])("div",Ut,[zt,Object(a["i"])("label",null,[Object(a["N"])(Object(a["i"])("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=e=>t.title=e),"data-test":"title"},null,512),[[a["K"],t.title]])])])])]),Object(a["i"])("div",_t,[Object(a["i"])("div",Vt,[Object(a["i"])("div",{contenteditable:"",ref:"contentEditable",onInput:e[1]||(e[1]=(...e)=>t.handleInput&&t.handleInput(...e)),"data-test":"content"},null,544)]),Object(a["i"])("div",Et,[Object(a["i"])("div",{innerHTML:t.html},null,8,Ft)])]),Object(a["i"])("div",Dt,[Object(a["i"])("div",At,[Object(a["i"])("button",{onClick:e[2]||(e[2]=(...e)=>t.save&&t.save(...e)),class:"button is-primary is-pulled-right","data-test":"submit"}," Submit ")])])],64)}Object(a["y"])();var Ct=s("0e54"),Lt=s("1487"),Yt=s.n(Lt),Nt=s("b047"),Wt=s.n(Nt),Ht=Object(a["l"])({props:{post:{type:Object,required:!0}},emits:{save:function(t){return!0}},setup:function(t,e){var s=Object(a["D"])(t.post.title),r=Object(a["D"])(t.post.markdown||""),c=Object(a["D"])(""),o=function(t){c.value=Object(Ct["parse"])(t,{gfm:!0,breaks:!0,highlight:function(t){return Yt.a.highlightAuto(t).value}})};Object(a["L"])(r,Wt()(o,250),{immediate:!0});var i=Object(a["D"])(null),u=function(){if(!i.value)throw Error("This should never happen");r.value=i.value.innerText||""};Object(a["v"])((function(){if(!i.value)throw Error("This should never happen");i.value.innerText=r.value}));var l=function(){var a=Object(n["a"])(Object(n["a"])({},t.post),{title:s.value,html:c.value,markdown:r.value});e.emit("save",a)};return{title:s,content:r,contentEditable:i,html:c,handleInput:u,save:l}}});s("88b4");Ht.render=qt,Ht.__scopeId="data-v-2add17bc";var Bt=Ht,Jt=Object(a["l"])({components:{PostWriter:Bt},setup:function(){var t=this,e=D(),s=Object(O["d"])(),a=e.getState().authors.currentUserId;if(!a)throw Error("Current User ID was not found");var r={id:"-1",title:"Enter your Title...",created:X()().subtract(1,"second"),authorId:"1"},c=function(a){return Object(n["b"])(t,void 0,void 0,(function(){return Object(n["c"])(this,(function(t){switch(t.label){case 0:return[4,e.createPost(a)];case 1:return t.sent(),s.push("/"),[2]}}))}))};return{newPost:r,save:c,store:e}}});Jt.render=Pt;var Gt=Jt;function Kt(t,e,s,n,r,c){const o=Object(a["F"])("post-viewer"),i=Object(a["F"])("spinner");return Object(a["x"])(),Object(a["f"])(a["b"],null,{default:Object(a["M"])(()=>[Object(a["k"])(o)]),fallback:Object(a["M"])(()=>[Object(a["k"])(i)]),_:1})}const Rt=Object(a["j"])(" Edit Post "),$t=["innerHTML"];function Qt(t,e,s,n,r,c){const o=Object(a["F"])("router-link");return Object(a["x"])(),Object(a["h"])(a["a"],null,[t.canEdit?(Object(a["x"])(),Object(a["f"])(o,{key:0,to:`/posts/${t.post.id}/edit`,class:"button is-link is-rounded","data-test":"can-edit"},{default:Object(a["M"])(()=>[Rt]),_:1},8,["to"])):Object(a["g"])("",!0),Object(a["i"])("h1",null,Object(a["I"])(t.post.title),1),Object(a["i"])("div",{innerHTML:t.post.html},null,8,$t)],64)}var Xt=Object(a["l"])({setup:function(t){return Object(n["b"])(this,void 0,void 0,(function(){var t,e,s,a;return Object(n["c"])(this,(function(n){switch(n.label){case 0:return t=D(),e=Object(O["c"])().params.id,t.getState().posts.loaded?[3,2]:[4,t.getPosts()];case 1:n.sent(),n.label=2;case 2:if(s=t.getState().posts.all.get(e),!s)throw Error("Post was not found.");return a=s.authorId===t.getState().authors.currentUserId,[2,{post:s,canEdit:a}]}}))}))}});Xt.render=Qt;var Zt=Xt,te=Object(a["l"])({components:{PostViewer:Zt,Spinner:St}});te.render=Kt;var ee=te;function se(t,e,s,n,r,c){const o=Object(a["F"])("post-editor"),i=Object(a["F"])("spinner");return Object(a["x"])(),Object(a["f"])(a["b"],null,{default:Object(a["M"])(()=>[Object(a["k"])(o)]),fallback:Object(a["M"])(()=>[Object(a["k"])(i)]),_:1})}function ne(t,e,s,n,r,c){const o=Object(a["F"])("post-writer");return Object(a["x"])(),Object(a["f"])(o,{post:t.post,onSave:t.save},null,8,["post","onSave"])}var ae=Object(a["l"])({components:{PostWriter:Bt},setup:function(t){return Object(n["b"])(this,void 0,void 0,(function(){var t,e,s,a,r,c=this;return Object(n["c"])(this,(function(o){switch(o.label){case 0:return t=D(),e=Object(O["d"])(),s=Object(O["c"])().params.id,t.getState().posts.loaded?[3,2]:[4,t.getPosts()];case 1:o.sent(),o.label=2;case 2:if(a=t.getState().posts.all.get(s),!a)throw Error("Post was not found.");return a.authorId!==t.getState().authors.currentUserId&&e.push("/"),r=function(s){return Object(n["b"])(c,void 0,void 0,(function(){return Object(n["c"])(this,(function(n){switch(n.label){case 0:return[4,t.updatePost(s)];case 1:return n.sent(),e.push("/"),[2]}}))}))},[2,{post:a,save:r}]}}))}))}});ae.render=ne;var re=ae,ce=Object(a["l"])({components:{PostEditor:re,Spinner:St}});ce.render=se;var oe=ce;function ie(t){var e=Object(O["a"])({history:Object(O["b"])("/vue-composition-api"),routes:[{path:"/",component:xt},{path:"/posts/new",component:Gt,meta:{requiresAuth:!0}},{path:"/posts/:id",component:ee},{path:"/posts/:id/edit",component:oe,meta:{requiresAuth:!0}}]});return e.beforeEach((function(e,s,n){var a=!!t.getState().authors.currentUserId;e.meta.requiresAuth?e.meta.requiresAuth&&a?n():n({path:"/"}):n()})),e}function ue(){return new Promise((function(t){setTimeout(t,2e3)}))}z.a.get=function(t){return Object(n["b"])(void 0,void 0,void 0,(function(){return Object(n["c"])(this,(function(e){switch(e.label){case 0:return"/posts"!==t?[3,2]:[4,ue()];case 1:return e.sent(),[2,Promise.resolve({data:[Z,tt,et]})];case 2:return[2]}}))}))},z.a.post=function(t,e){return Object(n["b"])(void 0,void 0,void 0,(function(){var s,a,r;return Object(n["c"])(this,(function(c){switch(c.label){case 0:return"/posts"!==t?[3,2]:(a=nt()(100,1e4),[4,ue()]);case 1:return c.sent(),s=Object(n["a"])(Object(n["a"])({},e),{title:e.title,created:e.created,id:a.toString(),authorId:e.authorId}),[2,Promise.resolve({data:s})];case 2:return"/users"!==t?[3,4]:(a=nt()(100,1e4),[4,ue()]);case 3:return c.sent(),r={id:a.toString(),username:e.username},[2,Promise.resolve({data:r})];case 4:return"/sign_in"!==t?[3,6]:"user123"!==e.username||"pass42"!==e.password?[2]:[4,ue()];case 5:return c.sent(),r={id:"1",username:e.username},[2,Promise.resolve({data:r})];case 6:return[2]}}))}))},z.a.put=function(t,e){return Object(n["b"])(void 0,void 0,void 0,(function(){var s;return Object(n["c"])(this,(function(a){switch(a.label){case 0:return"/posts"!==t?[3,2]:[4,ue()];case 1:return a.sent(),s=Object(n["a"])(Object(n["a"])({},e),{title:e.title,created:e.created,authorId:e.authorId}),[2,Promise.resolve({data:s})];case 2:return[2]}}))}))};var le=Object(a["e"])($),be=ie(F);le.use(be),le.use(F),le.mount("#app")},ef29:function(t,e,s){}});
//# sourceMappingURL=app.27551f88.js.map